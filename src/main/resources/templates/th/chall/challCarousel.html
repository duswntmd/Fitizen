<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>챌린지 참여 방법 캐러셀</title>
    <style>

    </style>
</head>
<body>

<div th:fragment="challCarousel">

    <!-- 챌린지 문구 -->
    <div class="challenge-banner">
        챌린지에 도전해서 <span>포인트</span>를 적립 받으세요!
        <a href="/challenge/add"><button class="category-button">챌린지 등록</button></a>
        <button class="category-button" onclick="navigateToTab('myChallengeList')">참여중인 챌린지</button>
    </div>

    <div class="carousel-container">
    <div class="carousel-wrapper">
        <div class="carousel" id="carousel">
            <div class="content-section">
                <div class="left-image">
                    <img src="/files/challengeCover/ex3.png" alt="챌린지 예시 이미지 1">
                </div>
                <div class="right-description">
                    <h3>챌린지 참여 방법</h3>
                    <p>1. 공식챌린지를 참여하여 포인트를 얻으세요!</p>
                    <p>2. 기한 만료시 참여 불가능해요!</p>
                    <p>3. 포인트 충전시 수수료가 부가됩니다!</p>
                    <p>4. 달성도에 따라 포인트가 주어집니다!</p>
                    <p>5. 망설이지 말고 도전!</p>
                </div>
            </div>
            <div class="content-section">
                <div class="left-image">
                    <img src="/files/challengeCover/ex2.png" alt="챌린지 예시 이미지 2">
                </div>
                <div class="right-description">
                    <h3>챌린지 도전방법</h3>
                    <p>1. 챌린지 도전 방법에 대해 자세히 읽어주세요!</p>
                    <p>2. 챌린지 기간이 시작되면 포인트환불은 불가능해요!</p>
                    <p>3. 많은사람들과 함께 도전하세요!</p>
                </div>
            </div>
            <div class="content-section">
                <div class="left-image">
                    <img src="/files/chatImg/ex1.png" alt="챌린지 예시 이미지 3">
                </div>
                <div class="right-description">
                    <h3>얻은 포인트로 다양한 서비스를 이용하세요!</h3>
                    <p>1. 상점에서 운동물품 구매 가능합니다!</p>
                    <p>2. 상품 구매시 포인트를 적용하세요!</p>
                    <p>3. 최대 5000포인트까지 적용가능!</p>
                </div>
            </div>
            <div class="content-section">
                <div class="left-image">
                    <img src="/files/proofShot/ex1.png" alt="챌린지 예시 이미지 3">
                </div>
                <div class="right-description">
                    <h3>인증샷 올리기</h3>
                    <p>1. 개인 목표를 설정하고 도전하세요.</p>
                    <p>2. 목표 달성을 위한 계획을 세우세요.</p>
                    <p>3. 정기적으로 진행 상황을 확인하세요.</p>
                    <p>4. 목표 달성 후 인증샷을 업로드하세요.</p>
                    <p>5. 마이페이지에서 포인트를 확인하세요.</p>
                </div>
            </div>
        </div>
        <div class="dots">
            <span class="dot" onclick="showSlide(0)"></span>
            <span class="dot" onclick="showSlide(1)"></span>
            <span class="dot" onclick="showSlide(2)"></span>
        </div>
    <button class="prev" type="button" onclick="prevSlide()">&lt;</button>
    <button class="next" type="button" onclick="nextSlide()">&gt;</button>
    </div>
</div>
    <script>
        let currentIndex = 0;

        function showSlide(index) {
            const slides = document.querySelectorAll('.content-section');
            if (index >= slides.length) currentIndex = 0;
            if (index < 0) currentIndex = slides.length - 1;
            const offset = -currentIndex * 100; // 각 이미지의 너비 비율
            document.getElementById('carousel').style.transform = `translateX(${offset}%)`;
            updateDots(); // 점 업데이트
        }

        function nextSlide() {
            currentIndex++;
            showSlide(currentIndex);
        }

        function prevSlide() {
            currentIndex--;
            showSlide(currentIndex);
        }

        function updateDots() {
            const dots = document.querySelectorAll('.dot');
            dots.forEach((dot, index) => {
                dot.classList.remove('active');
                if (index === currentIndex) {
                    dot.classList.add('active');
                }
            });
        }

        setInterval(nextSlide, 5000);


        // 세션스토리지 업데이트 및 해당 탭으로 이동
        function navigateToTab(tabId) {
            // 세션스토리지에 탭 ID 저장
            sessionStorage.setItem('activeTab', tabId);
            location.href="user/myPage";
        }
    </script>
</div>
</body>
</html>